{"version":3,"sources":["./src/app/pages/fazenda/fazenda.page.html","./src/app/pages/fazenda/fazenda.module.ts","./src/app/pages/fazenda/fazenda.page.scss","./src/app/pages/fazenda/fazenda.page.ts"],"names":[],"mappings":"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","file":"pages-fazenda-fazenda-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar> \\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text=center>Cadastro de Fazendas</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n\\n<ion-item>\\n    <ion-label>Produtor</ion-label>\\n    <ion-select name=\\\"idprodutor\\\"  [(ngModel)]=\\\"id_produtor\\\" value=\\\"1\\\" okText=\\\"Ok\\\" cancelText=\\\"Voltar\\\">\\n     <ion-select-option *ngFor=\\\"let produtor of produtores\\\" value={{produtor.id}}>{{produtor.nome}}</ion-select-option>\\n    </ion-select> \\n  </ion-item>\\n\\n<ion-item>\\n<ion-label position=\\\"fixed\\\">Fazenda : </ion-label>\\n<ion-input [(ngModel)]=\\\"nome\\\"></ion-input>\\n</ion-item>\\n\\n<ion-button expand=\\\"full\\\" (click)=\\\"add()\\\"> Salvar </ion-button>\\n\\n<ion-list>\\n\\n<ion-list-header>\\n   <ion-label> \\n        Listagem\\n   </ion-label>\\n</ion-list-header>\\n\\n<ion-item-sliding *ngFor=\\\"let item of row_data\\\">\\n <ion-item>\\n     <ion-label text-wrap>\\n         <h3> Produtor : {{ item.nomeprodutor }}</h3>\\n         <h3> Fazenda  : {{ item.nome }}</h3>\\n           <!-- <ion-text color=\\\"secondary\\\">\\n             <p> Fazenda : {{ item.nome }}</p>\\n           </ion-text> -->\\n     </ion-label>\\n </ion-item>    \\n <ion-item-options side=\\\"end\\\">\\n      <ion-item-option color=\\\"secondary\\\" (click)=\\\"update(item)\\\">Alterar</ion-item-option>\\n      <ion-item-option color=\\\"danger\\\" (click)=\\\"delete(item)\\\">Excluir</ion-item-option>         \\n </ion-item-options>\\n</ion-item-sliding>\\n</ion-list>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FazendaPage } from './fazenda.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FazendaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FazendaPage]\n})\nexport class FazendaPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZhemVuZGEvZmF6ZW5kYS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\n\n@Component({\n  selector: 'app-fazenda',\n  templateUrl: './fazenda.page.html',\n  styleUrls: ['./fazenda.page.scss'],\n})\nexport class FazendaPage implements OnInit {\n\n  databaseObj: SQLiteObject; // Database instance object\n  id_produtor:number;\n  nome:string=\"\";\n\n  row_data: any = []; // Table rows\n  produtores: any = []; \n  readonly database_name:string = \"ipedDB\"; // DB name\n  readonly table_name:string = \"fazenda\"; // Table name\n  \n  constructor(private sqlite:SQLite) { }\n\n  \n  createDB() {\n\n    this.sqlite.create({\n       name: this.database_name,\n       location: 'default'\n     })\n       .then((db: SQLiteObject) => {\n         this.databaseObj = db;\n         this.createTable();\n       })\n       .catch(e => {\n         alert(\"error \" + JSON.stringify(e))\n       });\n }\n\n  createTable() {\n  this.databaseObj.sqlBatch([\n    ['CREATE TABLE IF NOT EXISTS produtor (id integer primary key AUTOINCREMENT NOT NULL, nome TEXT NOT NULL, email TEXT NOT NULL)'],\n    ['CREATE TABLE IF NOT EXISTS fazenda (id integer primary key AUTOINCREMENT NOT NULL, nome TEXT NOT NULL, id_produtor integer)'],\n    ])\n    .then(() => {\n      this.getAll();\n      this.getProdutores();\n    })\n    .catch(e => {\n      alert(' Erro ao criar banco de dados ');\n     // alert(\"error \" + JSON.stringify(e))\n    });\n}\n \n\nadd() {\n  if (this.id_produtor==null) {\n    alert(\"Entre com o Produtor !\");\n    return;\n  }\n  if (!this.nome.length) {\n    alert(\"Entre com o nome da Fazenda !\");\n    return;\n  }\n\n  this.databaseObj.executeSql('INSERT INTO ' + this.table_name + ' (nome,id_produtor) VALUES (?,?)', [this.nome,this.id_produtor])\n  .then(() => {\n      alert('Fazenda Inserida !');\n      this.nome=\"\";\n      this.id_produtor=0;\n      this.getAll();\n    })\n    .catch(e => {\n      alert(\"error \" + JSON.stringify(e))\n    });\n   \n  }\n\n  getAll() {\n    this.databaseObj.executeSql(\"SELECT fazenda.id,fazenda.nome,fazenda.id_produtor,produtor.nome as nomeprodutor from fazenda , produtor where fazenda.id_produtor=produtor.id\",[])\n    \n    .then((res) => {\n        this.row_data = [];\n        if (res.rows.length > 0) {\n          for (var i = 0; i < res.rows.length; i++) {\n            this.row_data.push(res.rows.item(i));\n          }\n        }\n      })\n      .catch(e => {\n        alert(\"error \" + JSON.stringify(e))\n      });\n  }\n\n\n  getProdutores() {\n    this.databaseObj.executeSql(\"SELECT * FROM produtor\",[])\n      .then((res) => {\n        this.produtores = [];\n        if (res.rows.length > 0) {\n          for (var i = 0; i < res.rows.length; i++) {\n            this.produtores.push(res.rows.item(i));\n          }\n          }\n      })\n      .catch(e => {\n        alert(\"error \" + JSON.stringify(e))\n      });\n  }\n\ndelete(item) {\n  this.databaseObj.executeSql(\"DELETE FROM \" + this.table_name + \" WHERE id = \" + item.id, [])\n    .then((res) => {\n      alert(\"Fazenda removida !\");\n      this.getAll();\n    })\n    .catch(e => {\n      alert(\"error \" + JSON.stringify(e))\n    });\n}\n\n\n  update() {\n      \n\n  }\n\n  ngOnInit() {\n      this.createDB();\n  }\n\n}\n"],"sourceRoot":""}